<div *ngIf="!connected" id="username-page">
  <div class="username-page-container">
    <h1 class="title">Type your username to enter the chatroom</h1>
    <form (ngSubmit)="connect()">
      <div class="form-group">
        <input type="text" placeholder="Username" [(ngModel)]="username" name="username" class="form-control" />
      </div>
      <div class="form-group">
        <button type="submit" class="accent username-submit">Start Chatting</button>
      </div>
    </form>
  </div>
</div>

<div *ngIf="connected" id="chat-page" class="chat-container">
  <div class="chat-header">
    <h2>DÃ©monstration du chat en ligne avec Spring WebSocket</h2>
  </div>

  <ul id="messageArea">
    <li *ngFor="let msg of messages" [ngClass]="{'event-message': msg.type !== 'CHAT', 'chat-message': msg.type === 'CHAT'}">
      <!-- <i *ngIf="msg.type === 'CHAT'" [style.background-color]="getAvatarColor(msg.sender)">{{msg.sender[0]}}</i> -->
      <span *ngIf="msg.type === 'CHAT'">{{msg.sender}}</span>
      <p>{{msg.type === 'JOIN' ? msg.sender + ' joined!' : msg.type === 'LEAVE' ? msg.sender + ' left!' : msg.content}}</p>
    </li>
  </ul>

  <form id="messageForm" (ngSubmit)="sendMessage()">
    <div class="form-group">
      <div class="input-group clearfix">
        <input type="text" [(ngModel)]="message" name="message" placeholder="Type a message..." class="form-control"/>
        <button type="submit" class="primary">Send</button>
      </div>
    </div>
  </form>
</div>